(function(){var t,r,n,u,f,i,e,o;if(n=$("#FindOffice"),!!!n.length)return!1;r=n.find(".countries");t=n.find(".cities");u=n.find(".submit");f=n.find("input[type=hidden]");r.change(function(n){var t,u;return n.stopPropagation(),u=r.find(":selected"),t=u.val(),!t?i():e(t),!1});u.click(function(n){var i,u,e,o;return n.stopPropagation(),e=t.find(":selected"),o=r.find(":selected"),i=e.val(),u=o.val(),!!!i||!!!u||(window.location=f.val()+"?cn="+encodeURI(u)+"&cty="+encodeURI(i)),!1});e=function(n){var t;return t="/aon/webapi/offices.asmx/Cities?country="+JSON.stringify(n),$.ajax(t,{type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",error:i,success:function(n){return!n.d?i():o(n.d)}})};i=function(n){var i;return n==null&&(n=!0),t.prop("disabled",n),i=t.find("option:not(:first)"),i.remove()};o=function(n){return i(!1),$.each(n,function(n,i){return t.append($("<option>",{value:i,text:i}))})}}).call(this)